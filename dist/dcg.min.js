/*!
* Dynamic Content Generation (1.0.0) 2021/02/25
*/
var dcg={labelDesign:"dcg-design",labelBase:"dcg-base",labelJson:"dcg-json",labelHtml:"dcg-html",labelTemplate:"dcg-temp",labelTemplateData:"dcg-data",labelTemplateReference:"dcg-tref",labelTemplateRender:"dcg-tren",labelSource:"dcg-src",labelRepeat:"dcg-repeat",labelAttribute:"dcg-attr:",tokenOpen:"{{",tokenClose:"}}",dataTemplate:{},dataJson:{},dataHtml:{},contentBackup:void 0,removeCss:!1,cacheRender:!1,beforeRender:void 0,afterRender:void 0,getElementsByAttribute:function(e,t,n){n=n||"";for(var d=[],r=-1,a=e.getElementsByTagName("*"),o=t.toUpperCase(),c=a.length,l=-1;l<c;l+=1)-1==l&&(a[l]=e),null!==a[l].getAttribute(o)&&(""!=n&&a[l].getAttribute(o)!=n||(d[r+=1]=a[l]));return d},removeDuplicatesFromArray:function(e){var t={},n=[];if(e)for(var d=0;d<e.length;d++){var r=e[d];t[r]||(n.push(r),t[r]=!0)}return n},getRecursiveValue:function(e,t,n){var d=t[n=n||0],r=t.length,e=0<r&&n<r&&e.hasOwnProperty(d)?(n++,dcg.getRecursiveValue(e[d],t,n)):e;return e}};dcg.renderDesign=function(e,t){var n,d,r,a,o,c,l,g,i,s,u,m,p,b,h,f,y;if(void 0!==dcg.beforeRender&&dcg.beforeRender(),dcg.removeCss){for(c=dcg.getElementsByAttribute(document.documentElement,"rel","stylesheet");0<document.getElementsByTagName("style").length;)document.getElementsByTagName("style")[0].parentNode.removeChild(document.getElementsByTagName("style")[0]);for(;0<c.length;)c[0].parentNode.removeChild(c[0]),c.splice(0,1)}d=dcg.getElementsByAttribute(document.body,dcg.labelSource),dcg.loadContents(d,function(){for(r=dcg.getElementsByAttribute(document.body,dcg.labelJson),a=dcg.getElementsByAttribute(document.body,dcg.labelHtml),n=0;n<a.length;n++)htmlContent=a[n],o=htmlContent.getAttribute(dcg.labelHtml),dcg.dataHtml.hasOwnProperty(o)||""==htmlContent.innerHTML||(dcg.dataHtml[o]=htmlContent.innerHTML);for(n=0;n<r.length;n++)jsonContent=r[n],o=jsonContent.getAttribute(dcg.labelJson),dcg.dataJson.hasOwnProperty(o)||""==jsonContent.innerHTML||(dcg.dataJson[o]=JSON.parse(jsonContent.innerHTML));e&&dcg.xhr(e,function(e){if(4==e.readyState){if(200==e.status){if(b=function(e,t){var n,d,r,a=e,o=[],c=new RegExp("(?:<)[^>]*(?:src|href|"+dcg.labelSource+")(?:=)(?:\"|')([^>]*?)(?:\"|')[^>]*(?:>)","gim");for(;match=c.exec(a);)o.push(match[1]);for(o=dcg.removeDuplicatesFromArray(o),n=0;n<o.length;n++)-1==(r=o[n]).search("http")&&"#"!=r[0]&&(d=t+r,r=new RegExp(r,"gim"),a=a.replace(r,d));return a}(e.responseText,t),document.documentElement.innerHTML=document.documentElement.innerHTML.replace("<body","<body"+e.responseText.match("<body(.*)>")[1]),document.body.innerHTML=b.match(/<body[^>]*>((.|[\n\r])*)<\/body>/im)[1],l=b.match(/<link[^>]*>/gim))for(n=0;n<l.length;n++)document.head.innerHTML+=l[n];if(g=b.match(/<style[^>]*>([\s\S]*?)<\/style>/gim))for(n=0;n<g.length;n++)document.head.innerHTML+=g[n];for(;0<document.getElementsByTagName("script").length;)document.getElementsByTagName("script")[0].parentNode.removeChild(document.getElementsByTagName("script")[0]);if(i=b.match(/<script[^>]*>([\s\S]*?)<\/script>/gim))for(n=0;n<i.length;n++)document.body.innerHTML+=i[n];d=dcg.getElementsByAttribute(document.body,dcg.labelSource),dcg.loadContents(d,function(){for(o in dcg.dataHtml)for(y=dcg.getElementsByAttribute(document.body,dcg.labelHtml,o),n=0;n<y.length;n++)y[n].outerHTML=dcg.dataHtml[o];for(s=dcg.getElementsByAttribute(document.body,dcg.labelTemplateReference),n=0;n<s.length;n++)m=s[n],p=m.getAttribute(dcg.labelTemplate),dcg.loadTemplate({id:p,obj:m}),m.parentNode.removeChild(m);for(u=dcg.getElementsByAttribute(document.body,dcg.labelTemplateRender),n=0;n<u.length;n++)m=u[n],p=m.getAttribute(dcg.labelTemplate),m.outerHTML=dcg.loadTemplate({id:p,obj:m}).innerHTML;for(o in dcg.dataJson)for(h=dcg.getElementsByAttribute(document.body,dcg.labelJson,o),n=0;n<h.length;n++)(f=h[n]).outerHTML=dcg.displayTokens({id:o,data:dcg.dataJson[o],obj:f}).innerHTML;document.body.innerHTML=function(e){e=e||document.body.cloneNode(!0).innerHTML;var t,n,d,r,a=e,o=[],c=new RegExp("(?:<)[^>]*((?:"+dcg.labelAttribute+")(?:[^>]*?)(?:=)(?:\"|')(?:[^>]*?)(?:\"|'))[^>]*(?:>)","gim");for(;n=c.exec(a);)o.push(n[1]);for(o=dcg.removeDuplicatesFromArray(o),t=0;t<o.length;t++)r=o[t],d=r.replace(dcg.labelAttribute,""),r=new RegExp(r,"gim"),a=a.replace(r,d);return a}(),dcg.loadScripts(document.body.getElementsByTagName("script"),function(){document.body.removeAttribute(dcg.labelDesign),document.body.removeAttribute(dcg.labelBase),dcg.DOMLoad(),void 0!==dcg.afterRender&&dcg.afterRender(!0)})})}404==e.status&&void 0!==dcg.afterRender&&dcg.afterRender(!1)}},dcg.cacheRender)})},dcg.displayTokens=function(e){var t,n,d,r,a,o,c,l,g,i,s,u,m,p,b,h,f,y,T,v=!0,E=new RegExp(dcg.tokenOpen+"[\\s\\S]*?"+dcg.tokenClose,"g");if(e.hasOwnProperty("id")||(v=!1),!e.hasOwnProperty("data"))return!1;if(!e.hasOwnProperty("obj"))return!1;if(r=e.obj.cloneNode(!0),i=v?(T=1,3):(T=0,1),0<(a=dcg.getElementsByAttribute(r,dcg.labelRepeat)).length)for(t=0;t<a.length;t++){if(l="",o=a[t],b=dcg.removeDuplicatesFromArray(o.innerHTML.match(E)),g=o.getAttribute(dcg.labelRepeat).split(" "),0<b.length)if(g.length>i){if(s=g[2].split("."),(!v||g[4]==e.id)&&e.data.hasOwnProperty(s[0]))for(m=dcg.getRecursiveValue(e.data,s,0),n=0;n<m.length;n++){for(p=m[n],c=o.cloneNode(!0),d=0;d<b.length;d++)y=(h=b[d]).substring(2,h.length-2).split("."),v&&y[0]!=e.id||y[T]!=g[0]||(f=new RegExp(h,"g"),c.innerHTML=c.innerHTML.replace(f,p));l+=c.innerHTML}}else if(s=g[0].split("."),(!v||g[2]==e.id)&&e.data.hasOwnProperty(s[0]))for(m=dcg.getRecursiveValue(e.data,s,0),n=0;n<m.length;n++){for(u=m[n],c=o.cloneNode(!0),d=0;d<b.length;d++)y=(h=b[d]).substring(2,h.length-2).split("."),v&&y[0]!=e.id||!u.hasOwnProperty(y[T])||(p=dcg.getRecursiveValue(u,y,T),f=new RegExp(h,"g"),c.innerHTML=c.innerHTML.replace(f,p));l+=c.innerHTML}""!=l&&(o.insertAdjacentHTML("afterend",l),o.parentNode.removeChild(o))}if(0<(b=dcg.removeDuplicatesFromArray(r.innerHTML.match(E))).length)for(t=0;t<b.length;t++)y=(h=b[t]).substring(2,h.length-2).split("."),v&&y[0]!=e.id||!e.data.hasOwnProperty(y[T])||(p=dcg.getRecursiveValue(e.data,y,T),f=new RegExp(h,"g"),r.innerHTML=r.innerHTML.replace(f,p));return r},dcg.revertBack=function(){if(void 0!==dcg.contentBackup){var e=dcg.contentBackup.cloneNode(!0);document.documentElement.innerHTML=e.innerHTML}else{for(;0<document.getElementsByTagName("script").length;)document.getElementsByTagName("script")[0].parentNode.removeChild(document.getElementsByTagName("script")[0]);dcg.contentBackup=document.documentElement.cloneNode(!0)}},dcg.render=function(e,t){dcg.revertBack(),e=e||document.body.getAttribute(dcg.labelDesign),t=t||((t=document.body.getAttribute(dcg.labelBase))||e.replace(e.substring(e.lastIndexOf("/")+1),"")),dcg.renderDesign(e,t)},dcg.loadTemplate=function(e){var t,n;return!!e.hasOwnProperty("id")&&(e.hasOwnProperty("obj")?(n=e.obj.getAttribute(dcg.labelTemplateData))&&(dcg.dataJson.hasOwnProperty(n)?e.data=dcg.dataJson[n]:e.data=JSON.parse(n)):e.obj=void 0,n=(t=function(e,t){var n;void 0===t||dcg.dataTemplate.hasOwnProperty(e)?n=dcg.dataTemplate[e]:(n=t.cloneNode(!0),dcg.dataTemplate[e]=n);return n}(e.id,e.obj).cloneNode(!0)).getAttribute(dcg.labelTemplateData),e.data&&e.hasOwnProperty("data")||!n||(dcg.dataJson.hasOwnProperty(n)?e.data=dcg.dataJson[n]:e.data=JSON.parse(n)),e.data&&(t=dcg.displayTokens({data:e.data,obj:t})),t)},dcg.loadContents=function(t,n,d){t=t||dcg.getElementsByAttribute(document.documentElement,dcg.labelSource),d=d||0;var e=t.length;0<e&&d<e?""!=(e=t[d].getAttribute(dcg.labelSource))&&dcg.xhr(e,function(e){4==e.readyState&&200==e.status&&(t[d].outerHTML=e.responseText,d++,dcg.loadContents(t,n,d))},dcg.cacheRender):void 0!==n&&n()},dcg.loadScripts=function(e,t,n){e=e||document.getElementsByTagName("script"),n=n||0;var d=e.length;0<d&&n<d?e[n].src?dcg.getScript(e[n].src,function(){n++,dcg.loadScripts(e,t,n)}):(dcg.DOMEval(e[n].text),n++,dcg.loadScripts(e,t,n)):void 0!==t&&t()},dcg.xhr=function(e,t,n,d,r){var a,o,c;if(n=n||!1,r=r||!0,"GET"!==(d=(d=d||"GET").toUpperCase())&&"POST"!==d&&"HEAD"!==d)throw new Error("method must either be GET, POST, or HEAD");(a=new XMLHttpRequest).onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE&&t(a)},n||(o=Date.now(),c=e.replace(/#.*$/,""),n=e.slice(c.length),cacheURL=c.replace(/([?&])_=[^&]*/,"$1"),e=c+(n=(/\?/.test(c)?"&":"?")+"_="+ +o+n)),a.open(d,e,r),a.send()},dcg.DOMLoad=function(){"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}),window.dispatchEvent(new CustomEvent("DOMContentLoaded")),window.dispatchEvent(new CustomEvent("load"))},dcg.DOMEval=function(e){script=document.createElement("script"),script.text=e,document.head.appendChild(script).parentNode.removeChild(script)},dcg.getScript=function(e,t){dcg.xhr(e,function(e){4==e.readyState&&(200==e.status&&dcg.DOMEval(e.responseText),void 0!==t&&setTimeout(function(){t(e)},0))},dcg.cacheRender)};