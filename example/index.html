<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DCG | Content</title>
  </head>
  <body dcg-design="design.html" dcg-base="./">

    <!--basic json content definition-->
    <div dcg-obj="dynamicData" dcg-json>{"test" : "This is a variable", "2222": {"text": "123"}, "gen": "Generation", "condition": "true"}</div>
    
    <!--expanding the previously defined json content-->
    <div dcg-obj="dynamicData.2222" dcg-json>{"wow" : "lorem ipsum"}</div>

    <!--expanding the dynamic content with different definitions of xml-->
    <div dcg-obj="dynamicData.navbar" dcg-xml>
      <menu id="menu1" title="Home" href="#home"></menu>
      <menu>
        <id>menu2</id>
        <title>About</title>
        <href>#about</href>
      </menu>
      <menu id="menu3" href="#contact">
        <title>Contact</title>
      </menu>
    </div>

    <!--multiple json objects in a multi-dimensional form-->
    <div dcg-obj="base" dcg-json>{"customers":{"data":[
      {"CustomerName":"Ash","Color":"#f00","tags":["HTML", "JS", "CSS"],"grade":"43"},
      {"CustomerName":"Misty","Color":"#0f0","tags":{"0": "PHP", "1": "ASP"},"grade":"67"},
      {"CustomerName":"Brock","Color":"#00f","tags":["HTML", "JS"],"grade":"80"},
      {"CustomerName":"Gary","Color":"#ff0","tags":["JS", "CSS"],"grade":"22"}
      ]}, "person" : [{"name": "Andrew"}, {"name": "Barney"}]}
    </div>

    <!--expanding a specific object inside the dynamic content-->
    <div dcg-obj="base.customers.data.0.divdesc">
      <p>One of our special customer</p>
    </div>
    <div dcg-obj="base.customers.data.1.divdesc">
      <p>One of our returning customer</p>
    </div>
    <div dcg-obj="base.customers.data.2.divdesc">
      <p>One of our ordinary customer</p>
    </div>
    <div dcg-obj="base.customers.data.3.divdesc">
      <p>One of our potential customer</p>
    </div>

    <!--more json contents-->
    <div dcg-obj="vehicles" dcg-json>{"cars" : {"brands":["Volvo", "Ford", "BMW", "Mercedes"], "models":["V4", "GTR", "V8"]}}</div>

    <div dcg-obj="sweet" dcg-json>{"fruits":[{"name":"apple", "color":"red"}, {"name":"peer", "color":"green"}]}</div>
    
    <div dcg-obj="foobar" dcg-json>{"foo": "bars"}</div>

    <!--raw html content-->
    <div dcg-raw="rawHtml">
      <h2>Raw HTML</h2>
      <p>This paragraph is written on index.html</p>
      <h3>To-do</h3>
      <ol id="list">
        <li><s><code>beforeRender</code>, <code>afterRender</code> events</s></li>
        <li><s>Lose design and content tags for convenience</s></li>
        <li><s>Check body styles and optimize it for rendering</s></li>
        <li><s>Check and test events for problems</s></li>
        <li><s>Be able to use tokens inside html contents (render priority)</s></li>
        <li><s>Be able to run local scripts</s></li>
        <li><s>Lose JQuery dependency <code>$.getScript()</code></s></li>
        <li><s>Get external content: <code>dcg-src="url"</code></s></li>
        <li><s>Rewrite <code>displayTokens()</code> with regex</s></li>
        <li><s>Implement dynamic web component templates</s></li>
        <li><s>Fix path issue</s></li>
        <li><s>Be able to re-render from different design after the first initial render</s></li>
        <li><s>Be able to revert back changes</s></li>
        <li><s>Revise the <code>displayTokens()</code> again for more convenience</s></li>
        <li><s>Be able to parse XML contents</s></li>
        <li><s>Be able to render elements based on condition (conditional rendering)</s></li>
        <li>Write documentation</li>
      </ol>
      <div class="border-top"></div>
      <h3>Render Priority</h3>
      <ol>
        <li>Content backup</li>
        <li><code>beforeRender</code> function</li>
        <li>Fetching external contents</li>
        <li>Storing static contents (HTML, template references)</li>
        <li>Storing dynamic contents (JSON, XML)</li>
        <li>Inserting CSS from design</li>
        <li>Fetching external templates</li>
        <li>Inserting stored static contents</li>
        <li>Storing referenced templates</li>
        <li>Inserting stored templates</li>
        <li>Inserting stored dynamic contents, displaying tokens</li>
        <li>Conditional rendering</li>
        <li>Replacing custom attributes</li>
        <li>Injecting scripts inside the design and dispatching <code>onload</code> event</li>
        <li><code>afterRender</code> function</li>
      </ol>
    </div>

    <!--static raw html content that it will be referenced as a template on design.html with using tokens from the previously defined dynamic content (this definition works because static content's render priority is higher than dynamic content)-->
    <div dcg-raw="templateHtml">
      <div test="{{base.Color}}" style="color:white;background-color:{{base.Color}};width:100px;height:100px;">{{base.Color}} - {{foo}}</div>
    </div>

    <!--you can also expand dynamic contents with raw html, the only difference is the render priority is same as the dynamic contents so you cannot use tokens inside it-->
    <div dcg-obj="dynamicData.nestedHtml">
      <p>Testing nested HTML elements inside JSON</p>
    </div>

    <!--raw html content with dcg-repeat, this will also be referenced as a template on design.html-->
    <div dcg-raw="templateHtml2">
      <div style="background:crimson;color:white;width:100px;height:100px;">
        <div dcg-repeat="fruits as fruit">
          <a>{{fruit.name}} - {{fruit.color}}</a><br>
        </div>
      </div>
    </div>

    <!--external json content-->
    <div dcg-obj="exRate" dcg-json>
      <dcg dcg-src="https://api.exchangeratesapi.io/latest"></dcg>
    </div>

    <script src="../dist/dcg.js"></script>
    
    <!--initiating render-->
    <script>
      dcg.beforeRender = function(){
        console.log("before render");
      };
      dcg.afterRender = function(){
        console.log("after render");
      };
      dcg.render();
    </script>
  </body>
</html>