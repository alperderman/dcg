<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DCG | Design</title>
    <link rel="stylesheet" href="css/markdown.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito" rel="stylesheet">
    <style>
      .markdown-body {
        font-family: 'Nunito', sans-serif !important;
      }
    </style>
  </head>
  <body style="background-color:whitesmoke;">
      <div class="container-lg px-3 my-5 markdown-body">

        <!--repeating and inserting navbar menus that is defined as xml on index.html-->
        <div style="width:100%;height:auto;background-color:#ccc;">
          <ul style="display: inline-block;margin: 0;">
            <dcg dcg-repeat="dynamicData.navbar.menu as menu">
              <li style="display: inline-block;border-right: 1px solid #333;padding:1em;"><a href="{{menu.href}}">{{menu.title}}</a></li>
            </dcg>
          </ul>
        </div>

        <!--inserting a json content (token) and defining escaped attributes-->
        <h1><a dcg:href="" dcg:custom="customtext">Dynamic Content {{dynamicData.gen}}</a></h1>

        <!--inserting a html content-->
        <dcg dcg-raw="rawHtml">
        </dcg>

        <!--raw html contents that is defined on the design.html-->
        <hr>
        <h2>Basic Tests / Examples</h2>
        <p>And this paragraph is written on design.html</p>

        <!--inserting the html content nested into the json content-->
        {{dynamicData.nestedHtml}}

        <!--using of the keywords-->
        {{dynamicData.2222._this}}<br> <!--returns the object itself-->
        {{dynamicData._key}}<br> <!--returns the key of the object-->
        {{base.person.1._index}}<br> <!--returns the index of the object (_key+1)-->
        {{dynamicData._length}}<br> <!--returns the total length of the object-->

        <br>
        <!--render elements based on condition, don't forget to add extra quotes around the tokens if you are doing a string comparison-->
        <dcg dcg-if="{{dynamicData.condition}}">
          <p style="color:lightblue;">The condition is true</p>
        </dcg>

        <dcg dcg-if="!{{dynamicData.condition}}">
          <p style="color: lightcoral;">The condition is false</p>
        </dcg>

        <!--referencing an external template and defining a default json content with dcg-data that can only be used inside the template-->
        <dcg dcg-temp="temple" dcg-data='{"foo": "bar"}' dcg-tref>
          <dcg dcg-src="template.html"></dcg>
        </dcg>

        <!--referencing a template using the raw html content defined on the index.html and using the dynamic content named "sweet" on index.html as a default dataset-->
        <dcg dcg-temp="test" dcg-data="sweet" dcg-tref>
          <dcg dcg-raw="templateHtml2"></dcg>
        </dcg>

        <!--rendering the previously referenced template and changing the default dataset with dcg-data attribute-->
        <dcg dcg-temp="temple" dcg-data='{"foo": "notbar", "card2": {"Color": "#ae5"}}' dcg-tren></dcg>

        <!--complex examples with using multiple nested dcg-repeats, tokens, templates, conditional rendering and escaped attributes and tags-->
        <div id="test">
          <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray" dcg:great="wow">
              Test variable: <dcg:a href="#test" dcg:test="asd">{{dynamicData.test}}</dcg:a>.
              <br><br>
              <div class="testing123">
                <span style="color:blue;font-size:1.5em;">Total of {{base.customers.data._length}} customers</span>
                <hr>
                <dcg dcg-repeat="base.customers.data as card">
                  <dcg dcg-repeat="card.tags as tag">

                    <dcg dcg-if="'{{tag}}' != 'HTML' && '{{tag}}' != 'JS'">
                      <span>{{tag}}</span>
                    </dcg>

                  </dcg>
                  
                  <br>

                  <span>{{card._index}} - {{card.CustomerName}}</span>
                  <dcg dcg-if="{{card.grade}} >= 50">
                    <span style="color:green;">{{card.grade}} - PASS</span>
                  </dcg>
                  <dcg dcg-if="{{card.grade}} < 50">
                    <span style="color:red;">{{card.grade}} - FAIL</span>
                  </dcg>
                  {{card.divdesc}}
                  <br>

                </dcg>
                <hr>
                <dcg dcg-repeat="base.customers.data as card2">

                  <dcg dcg-temp="temple" dcg-data='{"foo": "bar"}' dcg-tren></dcg>

                </dcg>
              </div>

                <!--inserting a specific token that is deeply nested-->
                <br><br>{{base.person.1.name}}
                
          </div>
        </div>
      </div>

    <!--dynamically loading a template named "test" with loadTemplate function and inserting into the document.body-->
    <script>document.body.innerHTML += dcg.loadTemplate({id:"temple", data: {"foo": "notbar", "card2": {"Color": "#ae5"}}}).innerHTML;</script>
  </body>
</html>